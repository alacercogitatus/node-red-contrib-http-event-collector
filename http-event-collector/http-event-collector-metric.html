<script type="text/javascript">
    RED.nodes.registerType('splunk-http-event-collector-metric',{
        category: 'splunk',
        color: '#009D2F',
        defaults: {
            name: {value:""},
            inputToken: {value:"", required:true},
            inputHostname: {value:"", required:true},
            inputSource: {value:"", required:false},
            inputPort: {value:"", required:true}
        },
        inputs:1,
        outputs:0,
        icon: "Splunk_Icon.png",
        label: function() {
            return this.name||"splunk-http-event-collector-metric";
        }
    });
</script>

<script type="text/x-red" data-template-name="splunk-http-event-collector-metric">
    <div class="form-row">
        <label for="node-input-inputHostname"><i class="fa fa-globe"></i> Host</label>
        <input type="text" id="node-input-inputHostname" placeholder="localhost">
    </div>
    <div class="form-row">
        <label for="node-input-inputToken"><i class="fa fa-globe"></i> Token</label>
        <input type="text" id="node-input-inputToken" placeholder="Token">
    </div>
    <div class="form-row">
        <label for="node-input-inputSource"><i class="fa fa-globe"></i> Source</label>
        <input type="text" id="node-input-inputSource" placeholder="Source">
    </div>
    <div class="form-row">
        <label for="node-input-inputPort"><i class="fa fa-globe"></i> Port</label>
        <input type="text" id="node-input-inputPort" placeholder="Port">
    </div>
</script>

<script type="text/x-red" data-help-name="splunk-http-event-collector-metric">
    <p>Data to Splunk metrics index needs follow the following structure.<br>
            {<br>&nbsp;
                "msg": {<br>&nbsp;&nbsp;
                    "time": 1486683865.000, // optional will default to current epoch time unless <br>&nbsp;&nbsp;&nbsp;&nbsp;
                    "event": "metric", // filled in automatically<br>&nbsp;&nbsp;&nbsp;&nbsp;
                    "source": "disk",  //optional<br>&nbsp;&nbsp;&nbsp;&nbsp;
                    "host": "host_99", //optional<br>&nbsp;&nbsp;&nbsp;&nbsp;
                    "fields": {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "region": "us-west-1",  // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "datacenter": "us-west-1a", // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "rack": "63", // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "os": "Ubuntu16.10", // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "arch": "x64",      // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "team": "LON",      // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "service": "6",     // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "service_version": "0", // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "service_environment": "test", // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "path": "/dev/sda1", // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "fstype": "ext3", // example dimension<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "_value": 1099511627776,  // ** Required **<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        "metric_name": "total"  // ** Required **<br>&nbsp;&nbsp;&nbsp;
                    }<br>&nbsp;&nbsp;
                }<br>&nbsp;
            }<br/>
    </p>
</script>
