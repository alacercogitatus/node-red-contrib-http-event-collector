<script type="text/javascript">
    RED.nodes.registerType('splunk-http-event-collector',{
        category: 'splunk',
        color: '#009D2F',
        defaults: {
            name: {value:""},
            inputURI: {value:"", required:true},
            inputToken: {value:"", required:true},
            inputSourcetype: {value:"", required:true},
            inputHost: {value:"", required:false},
            inputIndex: {value:"", required:true},
            inputSource: {value:"", required:true}
        },
        inputs:1,
        outputs:0,
        icon: "Splunk_Icon.png",
        label: function() {
            return this.name||"splunk-http-event-collector";
        }
    });
</script>

<script type="text/x-red" data-template-name="splunk-http-event-collector">
    <div class="form-row">
        <label for="node-input-inputURI"><i class="fa fa-globe"></i> URI</label>
        <input type="text" id="node-input-inputURI" placeholder="https://localhost:8088">
    </div>
    <div class="form-row">
        <label for="node-input-inputToken"><i class="fa fa-globe"></i> Token</label>
        <input type="text" id="node-input-inputToken" placeholder="Token">
    </div>
    <div class="form-row">
        <label for="node-input-inputHost"><i class="fa fa-globe"></i> Host</label>
        <input type="text" id="node-input-inputHost" placeholder="Host">
    </div>
    <div class="form-row">
        <label for="node-input-inputSourcetype"><i class="fa fa-globe"></i> Sourcetype</label>
        <input type="text" id="node-input-inputSourcetype" placeholder="Sourcetype">
    </div>
    <div class="form-row">
        <label for="node-input-inputIndex"><i class="fa fa-globe"></i> Index</label>
        <input type="text" id="node-input-inputIndex" placeholder="Index">
    </div>
    <div class="form-row">
        <label for="node-input-inputSource"><i class="fa fa-globe"></i> Source</label>
        <input type="text" id="node-input-inputSource" placeholder="Source">
    </div>
</script>

<script type="text/x-red" data-help-name="splunk-http-event-collector">
    <p>This node pushes data to Splunk's HTTP event collector. Configure a new data source within Splunk's interface
    under settings> data inputs> Http Event Collector. Either create a new source or use an existing.  Once finished
    setting up the source, you will receive a Token.  This token will be added to the node settings within the node-red
    UI. The next step in setting up your HTTP Event Collector, is to make sure that the Global setting are correct.  In
    the top right hand corner of the Splunk UI, while in the Http Event Collector Configurator, there is a Global
    settings button.
    Ensure "All Tokens" is enabled and that the "Enable SSL" button is checked.  Also take note of the HTTP Port Number,
    This will be used later.  Now go back to the Node-Red UI and add the "http event collector" node and double click
    to open settings. Paste the Token from Splunk into the Token's field and enter in the URI, ensuring to include
    "https://" Now add your ip or host name. Finally add the port, which will typically be "8088", but can be manually
     changed by noting HTTP Port Number in the Global Settings of the Http Event collector configuration page.<br/>
    </p>
</script>
